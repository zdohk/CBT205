:gdoc.
.sv off
.CM LIB: XSYS.MVSESA.SCRIPT(SYSPROGM)
.CM GDE: DMV0016
.CM DOC: THIS SCRIPT FILE IS THE DOCUMENT FOR
.CM      mvs systems programmers.
.DD IMBEDS DSN 'XSYS.MVSESA.IMBEDS(IMBEDS)'
.IM IMBEDS
.*
.* local definitions for dictionary spell checking
.*
.du add SYSPROGM
:frontm.
:titlep.
.IM CITYSEAL
:title stitle='MVS SYSPROG'.
MVS Systems Programming at CDCSA
:docnum.&gml. SYSPROGM
:date.
.*
.*               ADD YOUR NAME IN ALPHABETICAL ORDER (BY LAST NAME).
.*
:author.AUTHORS&gml.
:author.Joe Fortunato
:author.Ken Tomiak
:address.
:aline.MVS Systems Programming
.im CDCSADEF
:eaddress.
:etitlep.
:abstract.
.du add SK
.sp 2
.bx 0 67
.fo off
  This document was created using a combination of SCRIPT/VS,
  GML tags, and Tomiak imbed files.  It can be generated using the
  SK command on either DOFD or DOFP.  Format it for a PG1A device.
.fo on
.bx off
.sp
This document should be modified whenever appropriate.
.sp
FIRST EDITION(September  9, 1991).
.sp
This printing(&TODAYTXT.)
:toc.
:figlist.
:tlist.
:preface.
:p.This distribution list provides the names of all parties who
should receive a copy of the updated document.
.sp 2
:sl compact.
.us
:li.:hp2.CDCSA:ehp2.
.sk
:li.Shelley, W.
:li.Ascencio, H.
:li.Cunningham, M.
:li.Forte, A.
:li.Fortunato, J.
:li.Nagengast, W.
:esl.
.pa
:body.
:h0.WORK PRACTICES
.rightpg
:h1.Rules
:ol.
:li.Think BIG. What you do now affects all the systems.
:li.NEVER UPDATE AN ACTIVE SYSRES.
:li.Document your work.
:li.Clean-up after installs.
:li.Keep discrepencies out. Make USERMODs identical for all systems.
:li.Plan for CDCSA and DOF and whatever other
agencies may come in the future.
:li.Think PERFORMANCE and DISASTER RECOVERY when allocating/moving
datasets.
:eol.
.rightpg
:h1.Where Work is Performed
:p.SMP/E work is to be done from MVSP. Keep that DISP=OLD for the
SMPE.GLOBAL.CSI for data integrity. Try to be on the owning system
when updating other datasets. That means if you are updating a dataset
on XCAD01 and DOFX is up and running you should be logged on there.
.rightpg
:h0.CONFIGURATION
.rightpg
:h1.HCD and IODF
  HCD is used to create an IODF which is an intergrated vsam dataset
  on the catalog volume for a given system.
  The IODF is specificed in the LOADxx member in SYS1.PARMLIB.
  IODF names are XXXX.IODFyy where xxxx= MVSP, DOFP, DOFP and
  yy is a suffix 01-99 .
  An IODF is interchangealbe be MVSP and DOFP and DOFD therefore
  if you loose an IODF you can specify a different IODF in the loadxx
  member in order to bring up the system
:h2.IOCP
  The IOCP is generated by the IODF. The IOCP is kept in the
  process controller.
:h2.MVSCP
  The mvscp is no longer used
:h2.EDT
  The EDT is storage in the IODF.
:h2.SYSCATlg
:p.Normally you will not be prompted for the master catalog parameter
during an IPL. If you are you should respond with the appropriate
suffix from the table below.
:rdef ID=rowxx
      HP='0 0'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='8 7'
      ARRANGE='1 2'
    .
:rdef ID=rowxxB
      HP='2 2'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='8 7'
      ARRANGE='1 2'
    .
:TABLE ID=syscat REFID=rowxx
       SPLIT=no
       ROTATE=0
       PAGE
       width=50
    .
:thd REFID=rowxxB.
:c.SYSID:c.xx:ec.
:ethd.
:ROW REFID=rowxx.:c.DOFX:c.DX:ec.
:ROW REFID=rowxx.:c.DOFD:c.DD:ec.
:ROW REFID=rowxx.:c.DOFP:c.DP:ec.
:ROW REFID=rowxx.:c.MVSX:c.MX:ec.
:ROW REFID=rowxx.:c.MVSP:c.MP:ec.
:tcap.SYSCAT
:tdesc.Suffix for master catalog parameter.
:etable.
.rightpg
:h0.SYSPLEX and GRS
.rightpg
:h1.SYSPLEX
:p.There are two (2) SYSTEM COMPLEXES running at CDCSA. The "X"
environment comprised of DOFX and MVSX make up the testing SYSPLEX.
The "DOF" environment comprised of DOFD and DOFP make up the
production SYSPLEX.
:p.MVSP can not be added to the SYSPLEX unless a SYSPLEX TIMER is
installed.
:P.Procedures for SYSPLEX are found in OPSDOC.
:p.The CONSOLE and GRS features are using SYSPLEX.
.rightpg
:h1.GRS
:p.GRS takes ENQUEUES (local and global) and hardware RESERVES
 then decides if it will convert them. The following is an example
 of what the GRSRNL00 member in SYS1.PARMLIB looks like.

     SYSTEM INCLUSION RESOURCE NAME LIST - RNLDEF STATEMENTS
:note.Takes enq and passes it to other systems.

 RNLDEF RNL(INCL) TYPE(GENERIC)                    INCLUDE
        QNAME(DMSUPDAT)                    DMS FILES DATASET UPDATE

 RNLDEF RNL(INCL) TYPE(SPECIFIC)               EXCLUDE SPECIFIC
        QNAME(UCC11CMT)                         RESOURCE NAMES
        RNAME(CMTDIR)                           FOR UCC11 RESERVES

                        RESERVE EXCLUSIONS
:note.Takes enq and does not pass it to other systems.

 RNLDEF RNL(EXCL) TYPE(GENERIC)                    EXCLUDE
        QNAME(SYSCTLG)                          CVOL RESERVE

 RNLDEF RNL(EXCL) TYPE(SPECIFIC)                   EXCLUDE
        QNAME(SYSIGGV2)                      CATALOG RESERVE FOR
        RNAME(CATALOG.DEVL.MASTER)             MASTER CATALOGS

      RESERVE CONVERSION RESOURCE NAME LIST - RNLDEF STATEMENTS
:note.Convert hardware reserve and converts it to systems enq.

 RNLDEF RNL(CON) TYPE(GENERIC)               CONVERT RESERVE FOR
        QNAME(UCC11RSV)                         RESOURCE NAMES

.rightpg
:h0.DATA SETS
.rightpg
:h1.What Goes Where
:h2.Categories of Data Sets
:p.The following categories exist.
:rdef ID=rowxx
      HP='0 0'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='25'
      ARRANGE='1'
    .
:rdef ID=rowxxB
      HP='2 2'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='25'
      ARRANGE='1'
    .
:TABLE ID=categ  REFID=rowxx
       SPLIT=no
       ROTATE=0
       PAGE
       width=50
    .
:thd REFID=rowxxB.
:c.Category:ec.
:ethd.
:ROW REFID=rowxx.:c.Distribution:ec.
:ROW REFID=rowxx.:c.Install JCL:ec.
:ROW REFID=rowxx.:c.IVP JCL:ec.
:ROW REFID=rowxx.:c.NON-SMP/E:ec.
:ROW REFID=rowxx.:c.RELFILES:ec.
:ROW REFID=rowxx.:c.RUN-TIME:ec.
:ROW REFID=rowxx.:c.SMP/E:ec.
:ROW REFID=rowxx.:c.Target:ec.
:tcap.CATEGORIES
:tdesc.Categories for Data Sets.
:etable.
:h2.Where they go
:ul.
:li.Distribution - The distribution libraries go on SMPDL1.
:li.Install JCL - XSYS.*.CNTL libraries go on SMPGL1. If possible use
the project library XSYS.MVSESA.CNTL.
:li.IVP JCL - XSYS.*.IVPLIB libraries go on SMPGL1. Use CSC or DOF
as appropriate. Put in both because the JOB CARD should be different.
:li.NON-SMP/E - These are the data sets required to use the product
and are written to. Place them on system dependent volumes.
:li.RELFILES - The SMP/E relfiles should be allocated on SMPGL1 and
will delete after ACCEPT processing.
:RUN-TIME - These are copies of SMP/E managed libraries that require
tailoring or are written to. Place them on system dependent volumes.
SYS1.PARMLIB is an example and is placed on each systems catalog volume.
:li.SMP/E - Global data sets are on the SMPGL1 volume. Zone specific
data sets are on the appropriate volumes. SMPDL1 for DLIB and the
SYSRES images for targets.
:li.Target - The target libraries are placed on the TARGET SYSRES.
When allocating or moving data sets remember that the "X" and the "DOF"
environments are GRS systems and may require PARMLIB changes.
:eul.
.rightpg
:h1.ALIASes for Compatability
:h2.Member
:ol.
:li.SYNCSORT
:p.SYNCSORT is an alias for SORT via an USERMOD on the system.  When
the time is right, SYNCSORT is dropped and End-Users have had ample
time to change JCL, remove the USERMOD.
:eol.
:h2.Dataset
:ol.
:li.OS/VS COBOL
:p.Lots of ALIASes exist. As do outdated data sets. The data sets
that should be used are on the ACTIVE SYSRES. Before deleting data sets
on other volumes consider creating an ALIAS to the correct data sets.
:li.PL/1
:p.Some ALIASes exist. As do outdated data sets. The data sets
that should be used are on the ACTIVE SYSRES. Before deleting data sets
on other volumes consider creating an ALIAS to the correct data sets.
:li.DFSORT/SYNCSORT
:p.Existing sort data set names have been defined or aliased to steer
users to DFSORT. New SYNCSORT libraries have been created.
:li.OTHER
:p.Some other ALIASes exist. Review the master catalog for specifics.
:eol.
.rightpg
:h1.Copied Data Sets
:h2.When to Copy, When to Create an Installation Version
:h3.CATALOG VOLUME
:p.PROCLIB, PARMLIB, DAE, LOGREC, UADS, BRODCAST, IMAGELIB,
and two ICQ data
sets are candidates for copies. The SYSRES version is maintained by
SMP/E.If you apply maintenance then you MUST review the updates and
carry them forward to ALL systems when appropriate.
:h3.NETWORK VOLUME
:p.There is no good reason to copy any NETWORK software data sets unless
the product will be writing to the dat set. Consider creating a new
data set with a system specific name. Document this as the normal
propagation method is not going to assist you in updating this non-SMP/E
managed data set.
:p.Those NETWORK data sets that have been copied mean you could be
running outdated software.
.rightpg
:h0.SMP/E
.rightpg
:h1.Structure
:h2.DASD
:p.There are three types of volumes. The GLOBAL volume: SMPGL1, the
distribution library volume: SMPDL1, and the target library volumes:
see SYSRES.
:h2.SYSRES
:p.The names for the SYSRES volumes are as follows:
:xmp.
   PRS00x    DOFP SYSRES  where x is 1 or 2

   DRS00x    DOFD SYSRES  where x is 1 or 2

   MRS00x    MVSP SYSRES  where x is 1 or 2

   XRS00x    DOFX and MVSX SYSRES  where x is 1, 2 or 3
:exmp.
:fig  ID=sysres
      frame=none
      place=inline
      width=page
    .
:figcap.SYSRES
:figdesc.This figure shows the SYSRES naming convention.
:efig.
.*
:h2.GLOBAL
:p.The GLOBAL volume: SMPGL1 is the home of the global CSI, relfiles,
and global SMP/E data sets.
  The global zone is SMPE.GLOBAL.CSI
:h2.Target
:p.The target volumes have two CSI structures. The MVS feature CSI
contains the main MVS software products. The second CSI contains those
products (OS/VS COBOL and PL/1 V1R5M0) that can not co-exist with the
higher version products.
  All smpe datasets are prefix with SMPE.

  The target zone is SMPE.XRS001.CSI note xrs001 is the volser
  The target zone for secondary compilers ex. cobol pl1 is
  SMPE.CXRS001.CSI note xrs001 is the volser
:h2.Distribution
:p.The dlib volume has two CSI structures. The MVS feature CSI
contains the main MVS software products. The second CSI contains those
products (OS/VS COBOL and PL/1 V1R5M0) that can not co-exist with the
higher version products.
The dlib datset is SMPE.SMPDL1.CSI
.*
:h1.Propagation
   All maintenance will be applied to the target XRS00x volume and
   tested on the MVSX and DOFX systems.
   Then the maintenance will be propagated to DOFD, then DOFP and
   finally MVSP.
   There may be exceptions if a PTF is to be applied that resolves
   a severe problem.
   SDSF parms is also an exception. It must be applied to the specific
   systems active sysres, every sysres at that level, and every sysres
   at a higher level.
   When applying maintenance you should clone the highest level XRS00x
   sysres to create a higher level target pack.
   ex.  XRS001 is at level 50
   To apply maintenance clone XRS001 to XRS00x where x is the volser of
   the volume that has the lowest level of maintenance.
   Then make your changes to XRS00x.
:h2.ACCESS PANELS
   The panels to propagte volumes can be accessed by executing clist
   %xsysalc .


:h2.JOB STREAM
:p.The job stream that is used for migrating resvol is found in
XSYS.MVSESA.SKELS(MIGSYSS1)

:h0.TESTING
.rightpg
:h1.IVPs
:h2.Purpose
:p.Every product requires testing after new versions, releases, or
maintenance is applied. The Installation Verification Procedures (IVP)
are the means to test the operability of the software.
:note.Some IVP testing may be interactive.
:h2.Location
:p.Two libraries exist for IVP JCL.
:p.XSYS.CSC.IVPLIB should contain JCL setup for the CDCSA systems:
:ul.
:li.MVSX
:li.MVSP
:eul.
:p.XSYS.DOF.IVPLIB should contain JCL setup for the DOF systems:
:ul.
:li.DOFX
:li.DOFD
:li.DOFP
:eul.
:h2.Check Lists
:p.XSYS.MVSESA.SCRIPT contains documents that should be updated with
any new or changed testing requirements. The check lists that are
included in those documents will ensure that complete testing is
done when followed.
.rightpg
:h1."X" Environment
:h2.DOFX and MVSX
:p.When a system change , upgrade or new product is going to be
   implemented it should first be applied and tested on either dofx
   or mvsx.
.rightpg
:h1.DOF
   Department Of Finance (DOF) consist of 2 system DOFD and DOFP .
   DOFP and DOFD share a jes2 spool and is seperate from MVSP.
   All IBM software is located on DOF ipl which is interchangable
   with MVSP ipl volume.
   NON IBM proucts that DOF uses is directly installed on the DOF
   systems.
   The catalog volume for dofp is pca001 and dofd dca001
.rightpg
:h1.CDCSA
   CDCSA consist of 1 mvs system MVSP.
   MVSP does not share a jes2 spool.
   All IBM software is located on MVSP ipl which is interchangable
   with DOF ipl volume.
   All IBM proucts are install on MVSP via smpe.
   HCD is used is add devices for DOF and CDCSA note all work is done
   on MVSP .
   The catalog volume for mvsp is ESACAP
.rightpg
:h0.DOCUMENTATION
.rightpg
:h1.Changes
:h2.Change Request System
:p.You are expected to adhere to CDCSA's change request system.
:h2.Logs
:rdef ID=rowxx
      HP='0 0'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='8 45'
      ARRANGE='1 2'
    .
:rdef ID=rowxxB
      HP='2 2'
      ALIGN='left left'
      CONCAT=yes
      VALIGN='top top'
      ROTATE='0 0'
      CWIDTHS='8 45'
      ARRANGE='1 2'
    .
:TABLE ID=logs   REFID=rowxx
       SPLIT=no
       ROTATE=0
       PAGE
       width=50
    .
:thd REFID=rowxxB.
:c.SYSID:c.LOG DATA SET:ec.
:ethd.
:ROW REFID=rowxx.:c.SMPE:c.XSYS.MVSESA.CHANGES:ec.
:ROW REFID=rowxx.:c.    :c.RECEIVE - (GLOBAL):ec.
:ROW REFID=rowxx.:c.    :c.APPLY   - (SYSRES):ec.
:ROW REFID=rowxx.:c.    :c.ACCEPT  - (DLIB):ec.
:ROW REFID=rowxx.:c.    :c.ACCEPT  - (GLOBAL):ec.
:ROW REFID=rowxx.:c.:ec.
:ROW REFID=rowxx.:c.DOFX:c.DOFX.SYSTEM.CHANGES($DOFX):ec.
:ROW REFID=rowxx.:c.:ec.
:ROW REFID=rowxx.:c.MVSX:c.MVSX.SYSTEM.CHANGES($MVSX):ec.
:ROW REFID=rowxx.:c.:ec.
:ROW REFID=rowxx.:c.DOFD:c.SYS2.CDCSA.CHANGES($DOFD):ec.
:ROW REFID=rowxx.:c.:ec.
:ROW REFID=rowxx.:c.DOFP:c.SYS2.CDCSA.CHANGES($DOFP):ec.
:ROW REFID=rowxx.:c.:ec.
:ROW REFID=rowxx.:c.MVSP:c.CSC.CHANGE.CNTL(MVSP):ec.
:tcap.LOGS
:tdesc.Change log data sets.
:etable.
:p.You should update the change logs for tracking purposes. While
the change request system has an audit feature, the change logs provide
LEVEL SET determination. This means by looking at what changes have
been done it is possible to determine the impact of falling back to
a lower level SYSRES and what other changes must be backed off to
run the system.
:p.Consider that the CICS 216 SVC required relinking the NUCLEUS
without the SVC, linking the new SVC into an LPALST library, and
changing the IEASVC parmlib member to a new type. Falling back to a
lower level SYSRES will not change the IEASVC parmlib member back. You
must.
.rightpg
:h1.Program Directories
:h2.Softcopy
:p.During software installation you should download the program
directories included into XSYS.PGMDIR. All MVS feature software
installed by the CBIPO or CBPDO tapes are here. Software installed
from product tapes do not include softcopy program directories or
it was not downloaded.
.rightpg
:h1.Software Inventory List
:p.As part of a software installation you are required to to keep the
Software Inventory up to date.
:h2.On-line
:p.Update the following files:
:ul.
:li.SYS2.SOFTWARE.INSTALL.DOC(product-name)
:li.product.install.cntl($INSTALL)
:eul.
:h2.VM Maintained
:p.Notify Evelyn Katz. You will need plenty of information, so contact
Evelyn as soon as you are assigned software to install to find out
what information you must provide.
.*
:h1.INDEX Listings
.rightpg
.pa
.*
:h2.XSYS.MVSESA.SCRIPT
.*
.CM 10 MEDIUM NORMAL                 SERIF DCF REL 2 COMPATIBILITY
.BF X0ST12
.fo off
.DD INDX1 DSN 'XSYS.MVSESA.SCRIPT($INDEX)'
.im INDX1
.fo on
.pf
:fig  ID=script
      frame=none
      place=inline
      width=page
    .
:figcap.SCRIPT
:figdesc.Index listing of XSYS.MVSESA.SCRIPT.
:efig.
.*
.*
.*
.rightpg
.pa
:h2.XSYS.MVSESA.CNTL
.*
.CM 10 MEDIUM NORMAL                 SERIF DCF REL 2 COMPATIBILITY
.BF X0ST12
.fo off
.DD INDX2 DSN 'XSYS.MVSESA.CNTL($INDEX)'
.im INDX2
.fo on
.pf
:fig  ID=xdbsjcl
      frame=none
      place=inline
      width=page
    .
:figcap.GROUP JCL
:figdesc.Index listing of XSYS.MVSESA.CNTL.
:efig.
.*
.*
.rightpg
.*
.*
.*
:h1.Problem Analysis and Diagnosis
.*
.*
.*
.rightpg
.pa
:h2.SVC Dumps
.*
:h3.SLIP TRAP
:p.Here is how to remove the suppression of a dump&gml.
:ul.
:li.SLIP DEL,ID=X04E
:eul.
:p.Here is how to suppress a dump&gml.
:ul.
:li.SLIP SET,C=04E,ID=X04E,A=NOSVCD,END
:eul.
:h3.IPCS
:p.After your job or task abends you may print the DUMP dataset
by modifying the sample JCL to fit the DUMP dataset.
The JCL below shows how to produce a printed copy.
.CM 10 MEDIUM NORMAL                 SERIF DCF REL 2 COMPATIBILITY
.BF X0ST12
.kp on
    //*
    //PRINTIT EXEC PGM=IKJEFT01,REGION=1024K,
    //             PARM=''
    //SYSTSPRT DD  SYSOUT=*
    //IPCSTOC  DD  SYSOUT=*
    //IPCSPRNT DD  SYSOUT=*
    //IPCSDDIR DD  DSN=IPOIPCS.DATA.SET.DIRECTRY,DISP=SHR
    //TAPE     DD  DSN=SYS1.DUMPxx,DISP=SHR
    //SYSUT1   DD  UNIT=SYSALLDA,SPACE=(CYL,(10,05))
    //SYSTSIN  DD  *
      IPCS NOPARM
        SETDEF PRINT TERMINAL DDNAME(TAPE) NOCONFIRM
        VERBEXIT DAEDATA
        STATUS SYSTEM CPU REGS DATA WORKSHEET FAILDATA
        CBFORMAT CVT
        VERBEXIT LOGDATA
        VERBEXIT TRACE
        VERBEXIT GRSTRACE
        SUMMARY  JOBSUMMARY FORMAT ALL
        VERBEXIT SUMDUMP
        CLOSE ALL
      END
    /*
    //
.kp off
.pf
:fig  ID=ipcs
      frame=none
      place=inline
      width=page
    .
:figcap.IPCS
:figdesc.This sample job shows how to print a dump.
:efig.
.*
:appendix.
:backm.
.rightpg
.pa
.sp
.am
.cd 1
.sx C //***** End of Document *****//
:egdoc.
